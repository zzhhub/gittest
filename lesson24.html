<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>5-6 自由编程</title>
</head>

<body>
    <form id="login" action="https://www.imooc.com/api/http/search/suggest?words=js" method="POST" enctype="multipart/form-data">
        <input type="text" name="username" placeholder="用户名" />
        <input type="password" name="password" placeholder="密码" autocomplete="off" />
        <input id="submit" type="submit" value="登录" />
    </form>

    <!-- <script>
        const login = document.getElementById("login")

        const {
            username,
            password
        } = login;

        const btn = document.getElementById("submit");

        const url = 'https://www.imooc.com/api/http/search/suggest?words=js';

        btn.addEventListener("click", (event) => {
            // 阻止表单默认行为
            event.preventDefault();

            // 表单验证

            // 表单提交
            const xhr = new XMLHttpRequest();

            xhr.addEventListener(
                'load',
                () => {
                    if (
                        (xhr.status >= 200 && xhr.status < 300) ||
                        xhr.status === 304
                    ) {
                        console.log(xhr.response);
                    }
                },
                false
            );


            xhr.open("post", url, true);

            // 设置请求头格式
            // xhr.setRequestHeader('Content-Type', 'application/x-www-form-urlencoded');

            // console.log(username.value, password.value);

            // 组装数据 1
            // const data = `username=${encodeURIComponent(username.value)}&password=${password.value}`;

            // 组装数据 2 
            const data = new FormData(login);
            // for (const item of data) {
            //     console.log(item);
            // }
            // console.log(data);

            xhr.send(data);
        }, false)
    </script> -->
</body>

</html>